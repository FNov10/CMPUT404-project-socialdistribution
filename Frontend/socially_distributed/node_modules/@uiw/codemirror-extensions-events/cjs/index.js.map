{
  "version": 3,
  "names": [
    "events",
    "opts",
    "type",
    "ViewPlugin",
    "fromClass",
    "view",
    "dom",
    "contentDOM",
    "scrollDOM",
    "Object",
    "keys",
    "forEach",
    "keyname",
    "addEventListener",
    "removeEventListener",
    "scroll",
    "content"
  ],
  "sources": [
    "../src/index.ts"
  ],
  "sourcesContent": [
    "import { ViewPlugin, EditorView } from '@codemirror/view';\nexport type Events<K extends keyof HTMLElementEventMap> = Record<\n  K,\n  (this: HTMLElement, event: HTMLElementEventMap[K]) => void\n>;\n\ntype Options<T extends keyof HTMLElementEventMap> = {\n  /**\n   * Bind events on different dom nodes.\n   * - `scroll` The DOM element that wraps the entire editor view.\n   * - `dom` The DOM element that can be styled to scroll. (Note that it may not have been, so you can't assume this is scrollable.)\n   * - `content` The editable DOM element holding the editor content. You should not, usually, interact with this content directly though the DOM, since the editor will immediately undo most of the changes you make.\n   */\n  type?: 'scroll' | 'dom' | 'content';\n  events?: Events<T>;\n};\n\nfunction events<T extends keyof HTMLElementEventMap>(opts: Options<T>) {\n  const { type = 'scroll', events } = opts;\n  return ViewPlugin.fromClass(\n    class {\n      dom?: HTMLElement;\n      view: EditorView;\n      constructor(view: EditorView) {\n        this.view = view;\n        if (type === 'dom') {\n          this.dom = view.dom;\n        } else if (type === 'content') {\n          this.dom = view.contentDOM;\n        } else {\n          this.dom = view.scrollDOM;\n        }\n        (Object.keys(events || {}) as Array<keyof typeof events>).forEach((keyname) => {\n          if (events && events[keyname] && this.dom) {\n            this.dom.addEventListener(keyname, events[keyname]);\n          }\n        });\n      }\n      destroy() {\n        (Object.keys(events || {}) as Array<keyof typeof events>).forEach((keyname) => {\n          if (events && events[keyname] && this.dom) {\n            this.dom.removeEventListener(keyname, events[keyname]);\n          }\n        });\n      }\n    },\n  );\n}\n/**\n * The DOM element that can be styled to scroll.\n * (Note that it may not have been, so you can't assume this is scrollable.)\n */\nexport function dom<T extends keyof HTMLElementEventMap>(opts: Events<T>) {\n  return events({ type: 'dom', events: opts });\n}\n/**\n * The DOM element that wraps the entire editor view.\n */\nexport function scroll<T extends keyof HTMLElementEventMap>(opts: Events<T>) {\n  return events({ type: 'scroll', events: opts });\n}\n/**\n * The editable DOM element holding the editor content.\n * You should not, usually, interact with this content directly though the DOM,\n * since the editor will immediately undo most of the changes you make.\n */\nexport function content<T extends keyof HTMLElementEventMap>(opts: Events<T>) {\n  return events({ type: 'content', events: opts });\n}\n"
  ],
  "mappings": ";;;;;;;;;;;;AAAA;AAiBA,SAASA,MAAM,CAAsCC,IAAgB,EAAE;EACrE,iBAAoCA,IAAI,CAAhCC,IAAI;IAAJA,IAAI,2BAAG,QAAQ;IAAEF,MAAM,GAAKC,IAAI,CAAfD,MAAM;EAC/B,OAAOG,gBAAU,CAACC,SAAS;IAIvB,iBAAYC,IAAgB,EAAE;MAAA;MAAA;MAAA;MAAA;MAC5B,IAAI,CAACA,IAAI,GAAGA,IAAI;MAChB,IAAIH,IAAI,KAAK,KAAK,EAAE;QAClB,IAAI,CAACI,GAAG,GAAGD,IAAI,CAACC,GAAG;MACrB,CAAC,MAAM,IAAIJ,IAAI,KAAK,SAAS,EAAE;QAC7B,IAAI,CAACI,GAAG,GAAGD,IAAI,CAACE,UAAU;MAC5B,CAAC,MAAM;QACL,IAAI,CAACD,GAAG,GAAGD,IAAI,CAACG,SAAS;MAC3B;MACCC,MAAM,CAACC,IAAI,CAACV,MAAM,IAAI,CAAC,CAAC,CAAC,CAAgCW,OAAO,CAAC,UAACC,OAAO,EAAK;QAC7E,IAAIZ,MAAM,IAAIA,MAAM,CAACY,OAAO,CAAC,IAAI,KAAI,CAACN,GAAG,EAAE;UACzC,KAAI,CAACA,GAAG,CAACO,gBAAgB,CAACD,OAAO,EAAEZ,MAAM,CAACY,OAAO,CAAC,CAAC;QACrD;MACF,CAAC,CAAC;IACJ;IAAC;MAAA;MAAA,OACD,mBAAU;QAAA;QACPH,MAAM,CAACC,IAAI,CAACV,MAAM,IAAI,CAAC,CAAC,CAAC,CAAgCW,OAAO,CAAC,UAACC,OAAO,EAAK;UAC7E,IAAIZ,MAAM,IAAIA,MAAM,CAACY,OAAO,CAAC,IAAI,MAAI,CAACN,GAAG,EAAE;YACzC,MAAI,CAACA,GAAG,CAACQ,mBAAmB,CAACF,OAAO,EAAEZ,MAAM,CAACY,OAAO,CAAC,CAAC;UACxD;QACF,CAAC,CAAC;MACJ;IAAC;IAAA;EAAA,IAEJ;AACH;AACA;AACA;AACA;AACA;AACO,SAASN,GAAG,CAAsCL,IAAe,EAAE;EACxE,OAAOD,MAAM,CAAC;IAAEE,IAAI,EAAE,KAAK;IAAEF,MAAM,EAAEC;EAAK,CAAC,CAAC;AAC9C;AACA;AACA;AACA;AACO,SAASc,MAAM,CAAsCd,IAAe,EAAE;EAC3E,OAAOD,MAAM,CAAC;IAAEE,IAAI,EAAE,QAAQ;IAAEF,MAAM,EAAEC;EAAK,CAAC,CAAC;AACjD;AACA;AACA;AACA;AACA;AACA;AACO,SAASe,OAAO,CAAsCf,IAAe,EAAE;EAC5E,OAAOD,MAAM,CAAC;IAAEE,IAAI,EAAE,SAAS;IAAEF,MAAM,EAAEC;EAAK,CAAC,CAAC;AAClD"
}